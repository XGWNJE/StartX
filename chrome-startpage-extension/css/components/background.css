/* 背景相关样式 */

/* 完整的背景层，包含所有光晕效果 */
.bg-glow {
  position: fixed;
  width: 100vw;
  height: 100vh;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
  /* 背景层自身添加半透明深色底色，确保光晕移动时不会露出白色 */
  background-color: rgba(15, 12, 41, 0.5);
}

/* 退出动画时隐藏背景层 */
body.page-exit .bg-glow,
body.page-exit #custom-background,
body.page-exit .extra-glow {
  opacity: 0 !important;
  transition: opacity 0.3s ease-out;
  z-index: -100 !important; /* 确保在黑色背景之下 */
}

/* 自定义背景层 */
#custom-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: var(--bg-opacity);
  filter: blur(var(--bg-blur));
  z-index: -1;
  transition: opacity 0.5s ease, filter 0.5s ease;
}

/* 光晕效果1 */
.bg-glow::before {
  content: '';
  position: absolute;
  top: 20%;
  left: 20%;
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(125, 106, 255, 0.3) 0%, rgba(125, 106, 255, 0) 70%);
  border-radius: 50%;
  filter: blur(60px);
  animation: floatGlow1 20s infinite alternate ease-in-out;
}

/* 光晕效果2 */
.bg-glow::after {
  content: '';
  position: absolute;
  bottom: 20%;
  right: 20%;
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, rgba(92, 225, 230, 0.2) 0%, rgba(92, 225, 230, 0) 70%);
  border-radius: 50%;
  filter: blur(60px);
  animation: floatGlow2 15s infinite alternate-reverse ease-in-out;
}

/* 额外的光晕效果3 */
.extra-glow {
  position: absolute;
  top: 40%;
  left: 50%;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 126, 179, 0.2) 0%, rgba(255, 126, 179, 0) 70%);
  filter: blur(60px);
  animation: floatGlow3 25s infinite alternate ease-in-out;
}

/* 光晕动画 */
@keyframes floatGlow1 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(30px, 20px);
  }
}

@keyframes floatGlow2 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(-30px, -20px);
  }
}

@keyframes floatGlow3 {
  0% {
    transform: translate(-20px, 0);
  }
  100% {
    transform: translate(20px, -20px);
  }
}

/* 背景过渡动画类 */
body.bg-transition {
  transition: background 0s;
}

/* 预设背景类 */
body.bg-default {
  background: linear-gradient(125deg, #0f0c29, #302b63, #24243e);
}

body.bg-blue {
  background: linear-gradient(135deg, #1a2980, #26d0ce);
}

body.bg-purple {
  background: linear-gradient(135deg, #8e2de2, #4a00e0);
}

body.bg-sunset {
  background: linear-gradient(135deg, #f12711, #f5af19);
}

body.bg-night {
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
}

body.bg-forest {
  background: linear-gradient(135deg, #134e5e, #71b280);
}

/* 图片加载指示器 */
.loading-bg::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5) url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke="white" stroke-width="4" stroke-dasharray="60 20"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/></circle></svg>') no-repeat center center;
  z-index: 9999;
}

/* 壁纸项目 */
.wallpaper-item {
  position: relative;
  width: 100%;
  height: 80px;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 2px solid transparent;
}

.wallpaper-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.wallpaper-item.active {
  border-color: var(--accent-color);
}

.wallpaper-thumbnail {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.wallpaper-info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 5px;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 壁纸删除按钮 */
.wallpaper-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.6);
  border: none;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.wallpaper-item:hover .wallpaper-delete-btn {
  opacity: 1;
}

.wallpaper-delete-btn:hover {
  background: rgba(255, 0, 0, 0.8);
}

.wallpaper-delete-btn i {
  width: 16px;
  height: 16px;
} 