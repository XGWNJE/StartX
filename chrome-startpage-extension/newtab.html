<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StartX</title>
  <!-- 添加关键渲染路径优化 -->
  <link rel="preload" href="css/style.css" as="style">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* 内联关键CSS，确保初始渲染不被阻塞 */
    html {
      background-color: #000; /* 添加黑色背景作为最底层 */
    }
    
    body {
      background: linear-gradient(125deg, #0f0c29, #302b63, #24243e);
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    
    /* 退出动画时确保body背景变为黑色 */
    body.page-exit {
      background: #000 !important;
    }
    
    /* 使用CSS变量而非硬编码值，确保与设置同步 */
    .search-container {
      position: relative;
      width: var(--search-bar-width, 600px);
      max-width: 90%;
      height: var(--search-bar-height, 70px);
      border-radius: var(--search-bar-border-radius, 30px);
      will-change: opacity, transform;
    }
  </style>
  <!-- 预加载脚本 -->
  <link rel="preload" href="js/main.js" as="script" crossorigin="anonymous">
</head>
<body>
  <!-- 背景光晕层 -->
  <div class="bg-glow">
    <div class="extra-glow"></div>
    <!-- 自定义背景层 -->
    <div id="custom-background"></div>
  </div>
  
  <div class="container">
    <!-- 搜索栏组件 -->
    <div class="search-container">
      <!-- 背景层 -->
      <div class="search-background"></div>
      
      <!-- 毛玻璃效果层 -->
      <div class="liquid-glass-effect"></div>
      
      <!-- 边缘高光效果 -->
      <div class="search-edge-highlight"></div>
      
      <!-- 搜索栏内容 -->
      <div class="search-bar">
        <input type="text" id="search-input" placeholder="｜搜索或输入网址" autocomplete="off" spellcheck="false" data-form-type="other">
        <button id="search-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </button>
      </div>
      
      <!-- 书签搜索结果将由JS动态添加 -->
    </div>
    
    <!-- 设置按钮 -->
    <button id="settings-button" class="settings-button" aria-label="设置">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
      </svg>
    </button>
    
    <!-- 设置面板 -->
    <div id="settings-panel" class="settings-panel">
      <div class="settings-content">
        <h3>设置</h3>
        
        <div class="settings-tabs">
          <button class="tab-button active" data-tab="bg-settings">背景</button>
          <button class="tab-button" data-tab="search-settings">搜索栏</button>
          <button class="tab-button" data-tab="appearance-settings">外观</button>
        </div>
        
        <!-- 背景设置选项卡 -->
        <div class="settings-tab-content active" id="bg-settings">
          <div class="settings-section">
            <h4>预设背景</h4>
            <div class="bg-preset-grid">
              <div class="bg-preset bg-preset-1" data-bg="default"></div>
              <div class="bg-preset bg-preset-2" data-bg="blue"></div>
              <div class="bg-preset bg-preset-3" data-bg="purple"></div>
              <div class="bg-preset bg-preset-4" data-bg="sunset"></div>
              <div class="bg-preset bg-preset-5" data-bg="night"></div>
              <div class="bg-preset bg-preset-6" data-bg="forest"></div>
            </div>
          </div>
          <div class="settings-section">
            <h4>自定义背景</h4>
            <div class="custom-bg-controls">
              <input type="file" id="bg-upload" accept="image/*" class="hidden">
              <label for="bg-upload" class="upload-btn">选择图片</label>
              <button id="remove-custom-bg" class="remove-btn" disabled>移除自定义背景</button>
            </div>
            <div class="bg-opacity-control">
              <label for="bg-opacity">背景不透明度</label>
              <input type="range" id="bg-opacity" min="0" max="100" value="100">
              <span id="opacity-value">100%</span>
            </div>
            <div class="bg-blur-control">
              <label for="bg-blur">背景模糊</label>
              <input type="range" id="bg-blur" min="0" max="20" value="0">
              <span id="blur-value">0px</span>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>壁纸历史</h4>
            <div class="wallpaper-history-controls">
              <button id="prev-wallpaper" class="wallpaper-nav-btn" title="上一张壁纸">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
              </button>
              <button id="next-wallpaper" class="wallpaper-nav-btn" title="下一张壁纸">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
              </button>
              <div class="auto-change-control">
                <input type="checkbox" id="auto-change-wallpaper">
                <label for="auto-change-wallpaper">自动切换壁纸</label>
                <select id="auto-change-interval" disabled>
                  <option value="5">5分钟</option>
                  <option value="15">15分钟</option>
                  <option value="30" selected>30分钟</option>
                  <option value="60">1小时</option>
                  <option value="180">3小时</option>
                  <option value="360">6小时</option>
                  <option value="720">12小时</option>
                  <option value="1440">24小时</option>
                </select>
              </div>
            </div>
            
            <div class="wallpaper-history-grid" id="wallpaper-history-grid">
              <!-- 壁纸历史项将由JS动态添加 -->
              <div class="wallpaper-empty-msg">尚无历史壁纸</div>
            </div>
          </div>
        </div>
        
        <!-- 搜索栏设置选项卡 -->
        <div class="settings-tab-content" id="search-settings">
          <div class="settings-section">
            <h4>搜索引擎</h4>
            <div class="search-engine-options">
              <div class="search-engine-grid">
                <button class="search-engine-btn" data-engine="google">
                  <span class="engine-icon">G</span>
                  <span class="engine-name">Google</span>
                </button>
                <button class="search-engine-btn" data-engine="baidu">
                  <span class="engine-icon">B</span>
                  <span class="engine-name">百度</span>
                </button>
                <button class="search-engine-btn" data-engine="bing">
                  <span class="engine-icon">B</span>
                  <span class="engine-name">必应</span>
                </button>
                <button class="search-engine-btn" data-engine="sogou">
                  <span class="engine-icon">S</span>
                  <span class="engine-name">搜狗</span>
                </button>
                <button class="search-engine-btn" data-engine="duckduckgo">
                  <span class="engine-icon">D</span>
                  <span class="engine-name">DuckDuckGo</span>
                </button>
              </div>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>搜索栏尺寸</h4>
            <div class="search-size-control">
              <label for="search-width">搜索栏宽度</label>
              <input type="range" id="search-width" min="300" max="1000" step="10" value="600">
              <span id="width-value">600px</span>
            </div>
            <div class="search-size-control">
              <label for="search-height">搜索栏高度</label>
              <input type="range" id="search-height" min="40" max="100" step="5" value="70">
              <span id="height-value">70px</span>
            </div>
            <div class="search-size-control">
              <label for="search-radius">圆角大小</label>
              <input type="range" id="search-radius" min="0" max="50" value="30">
              <span id="radius-value">30px</span>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>玻璃效果</h4>
            <div class="glass-effect-control">
              <label for="glass-opacity">透明度</label>
              <input type="range" id="glass-opacity" min="0" max="30" step="1" value="10">
              <span id="glass-opacity-value">0.10</span>
            </div>
            <div class="glass-effect-control">
              <label for="glass-blur">模糊程度</label>
              <input type="range" id="glass-blur" min="0" max="50" value="10">
              <span id="glass-blur-value">10px</span>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>文本设置</h4>
            <div class="text-control">
              <label for="text-size">文字大小</label>
              <input type="range" id="text-size" min="12" max="30" value="18">
              <span id="text-size-value">18px</span>
            </div>
            <div class="text-control">
              <label for="placeholder">占位符文本</label>
              <input type="text" id="placeholder-text" value="｜搜索或输入网址" placeholder="搜索框中显示的提示文字">
            </div>
          </div>
        </div>
        
        <!-- 外观设置选项卡（整合强调色和主题） -->
        <div class="settings-tab-content" id="appearance-settings">
          <div class="settings-section accent-color-section">
            <h4>强调色</h4>
            <div class="accent-mode-options">
              <button class="accent-mode-btn active" data-mode="auto">自动匹配</button>
              <button class="accent-mode-btn" data-mode="custom">自定义</button>
            </div>
            <div class="custom-accent-control">
              <label for="custom-accent-color">主强调色</label>
              <input type="color" id="custom-accent-color" value="#7d6aff" disabled>
              
              <div class="gradient-options">
                <div class="gradient-checkbox">
                  <input type="checkbox" id="use-custom-gradient" disabled>
                  <label for="use-custom-gradient">自定义渐变</label>
                </div>
                
                <div class="gradient-controls">
                  <div class="secondary-color-control">
                    <label for="custom-secondary-color">辅助强调色</label>
                    <input type="color" id="custom-secondary-color" value="#ff7eb3" disabled>
                  </div>
                  
                  <div class="direction-control">
                    <label for="gradient-direction">渐变方向</label>
                    <select id="gradient-direction" disabled>
                      <option value="to right">从左到右</option>
                      <option value="to left">从右到左</option>
                      <option value="to bottom">从上到下</option>
                      <option value="to top">从下到上</option>
                      <option value="to bottom right">左上到右下</option>
                      <option value="to bottom left">右上到左下</option>
                      <option value="to top right">左下到右上</option>
                      <option value="to top left">右下到左上</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <div class="color-preview">
                <div class="color-swatch primary-swatch" title="主强调色"></div>
                <div class="color-swatch secondary-swatch" title="辅助强调色"></div>
                <div class="color-swatch tertiary-swatch" title="第三强调色"></div>
                <div class="gradient-swatch" title="渐变效果"></div>
              </div>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>主题模式</h4>
            <div class="theme-mode-options">
              <button class="theme-mode-btn active" data-mode="default">默认</button>
              <button class="theme-mode-btn" data-mode="preset">预设</button>
              <button class="theme-mode-btn" data-mode="custom">自定义</button>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>预设主题</h4>
            <div class="theme-preset-grid">
              <div class="theme-preset" data-theme="dark">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #121212;"></div>
                  <div class="theme-preset-body" style="background-color: #1e1e1e; color: #ffffff;">Aa</div>
                </div>
                <div class="theme-preset-name">深色主题</div>
              </div>
              <div class="theme-preset" data-theme="light">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #f5f5f5;"></div>
                  <div class="theme-preset-body" style="background-color: #ffffff; color: #121212;">Aa</div>
                </div>
                <div class="theme-preset-name">浅色主题</div>
              </div>
              <div class="theme-preset" data-theme="midnight">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #0a1929;"></div>
                  <div class="theme-preset-body" style="background-color: #132f4c; color: #ffffff;">Aa</div>
                </div>
                <div class="theme-preset-name">午夜蓝</div>
              </div>
              <div class="theme-preset" data-theme="forest">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #0f2417;"></div>
                  <div class="theme-preset-body" style="background-color: #1a3829; color: #ffffff;">Aa</div>
                </div>
                <div class="theme-preset-name">森林绿</div>
              </div>
              <div class="theme-preset" data-theme="sunset">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #271513;"></div>
                  <div class="theme-preset-body" style="background-color: #3d2117; color: #ffffff;">Aa</div>
                </div>
                <div class="theme-preset-name">日落橙</div>
              </div>
              <div class="theme-preset" data-theme="galaxy">
                <div class="theme-preset-inner">
                  <div class="theme-preset-header" style="background-color: #0f0a1f;"></div>
                  <div class="theme-preset-body" style="background-color: #1a1433; color: #ffffff;">Aa</div>
                </div>
                <div class="theme-preset-name">星空紫</div>
              </div>
            </div>
          </div>
          
          <div class="settings-section">
            <h4>自定义主题颜色</h4>
            <div class="custom-theme-controls">
              <div class="theme-color-control">
                <label for="theme-background">背景色</label>
                <input type="color" id="theme-background" data-color-type="background" value="#121212" disabled>
              </div>
              <div class="theme-color-control">
                <label for="theme-surface">表面色</label>
                <input type="color" id="theme-surface" data-color-type="surface" value="#1e1e1e" disabled>
              </div>
              <div class="theme-color-control">
                <label for="theme-text">文本色</label>
                <input type="color" id="theme-text" data-color-type="text" value="#ffffff" disabled>
              </div>
              <div class="theme-color-control">
                <label for="theme-text-secondary">次要文本色</label>
                <input type="color" id="theme-text-secondary" data-color-type="textSecondary" value="#b0b0b0" disabled>
              </div>
              <div class="theme-color-control">
                <label for="theme-border">边框色</label>
                <input type="color" id="theme-border" data-color-type="border" value="#333333" disabled>
              </div>
            </div>
            
            <div class="theme-preview">
              <div class="theme-preview-header">
                <div class="theme-preview-text">主题预览</div>
              </div>
              <div class="theme-preview-body">
                <div class="theme-preview-text">这是主要文本</div>
                <div class="theme-preview-text-secondary">这是次要文本</div>
                <div class="theme-preview-button">按钮</div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="settings-footer">
          <button id="reset-settings">恢复默认</button>
          <button id="close-settings">关闭</button>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <p>StartX - v1.0.0</p>
    </div>
  </div>
  <!-- 优化脚本加载 -->
  <script src="js/main.js" type="module"></script>
</body>
</html> 